<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Kits NE Ambiental</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>
<body>
    <!-- Bot√£o para abrir menu em celular -->
<button class="menu-toggle" onclick="toggleMenu()">‚ò∞ Menu</button>

    <div class="container">
        <!-- SIDEBAR: Apenas controle, sem interferir no preview -->
        <div class="sidebar">
            <h2>GERENCIADOR DE KITS</h2>
            
            <!-- A√ß√µes Principais -->
            <div class="actions-section">
                <button onclick="resetarKit()" class="btn btn-danger">Novo Kit</button>
                <button onclick="exportarPDF()" class="btn btn-success">Gerar PDF</button>
            </div>

            <!-- Gerenciamento de Kits -->
            <div class="save-section">
                <h3>GERENCIAR KITS</h3>
                <label>Nome do Kit:</label>
                <input type="text" id="nome-kit" value="Start 1" placeholder="Ex: Start 1, Profissional">
                <button onclick="salvarKit()" class="btn btn-primary">Salvar Kit</button>
                <button onclick="carregarListaKits()" class="btn btn-warning">Carregar Kit Salvo</button>
                <div id="lista-kits-salvos"></div>
            </div>

            <!-- Adicionar/Remover Produtos -->
            <div class="product-controls">
                <h3>PRODUTOS</h3>
                <button onclick="abrirModalNovoProduto()" class="btn btn-add">+ Adicionar Produto</button>
                <button onclick="abrirModalRemoverProduto()" class="btn btn-remove">üóëÔ∏è Remover Produto</button>
                
                <div style="margin-top: 10px;">
                    <input type="text" id="busca-produto" placeholder="Buscar produto..." onkeyup="filtrarProdutos()">
                    <div id="lista-produtos"></div>
                </div>
            </div>
        </div>

        <!-- √ÅREA PRINCIPAL: Visualiza√ß√£o id√™ntica ao PDF -->
        <div class="main-content" id="conteudo-kit">
            <div class="header">
                <h1>SISTEMA DE MONTAGEM DE KIT's E OR√áAMENTOS - Nordeste Ambiental</h1>
                <p>TERPENOIL, ENZILIMP e SPARTAN</p>
                
                <div class="guarantee">
                    <strong>GARANTIMOS</strong>
                    <div class="icons">
                        <span>‚úì Redu√ß√£o de custos</span>
                        <span>‚úì Sustentabilidade</span>
                        <span>‚úì Melhoria dos processos de limpeza e higieniza√ß√£o</span>
                    </div>
                </div>
            </div>

            <table id="tabela-produtos">
                <thead>
                    <tr>
                        <th>Quantidade</th>
                        <th>Imagem</th>
                        <th>Descri√ß√£o</th>
                        <th>Dilui√ß√µes</th>
                        <th>Custo (p/ litro) Operacional</th>
                        <th>Valor</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody id="corpo-tabela">
                    <!-- Produtos ser√£o inseridos aqui -->
                </tbody>
            </table>

            <div class="total">
                TOTAL GERAL R$ <span id="valor-total">0,00</span>
            </div>

    
        </div>

        <!-- Modal: Adicionar Novo Produto -->
        <div id="modal-novo-produto" class="modal">
            <div class="modal-content">
                <h2>Adicionar Novo Produto</h2>
                <form onsubmit="adicionarNovoProduto(event)">
                    <div class="form-group">
                        <label>Nome:</label>
                        <input type="text" id="nome-produto" required>
                    </div>
                    <div class="form-group">
                        <label>Descri√ß√£o:</label>
                        <textarea id="descricao-produto" required></textarea>
                    </div>
                    <div class="form-group">
                        <label>Dilui√ß√µes:</label>
                        <input type="text" id="diluicoes-produto" required>
                    </div>
                    <div class="form-group">
                        <label>Custo por Litro (R$):</label>
                        <input type="number" id="custo-litro" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label>Pre√ßo de Venda (R$):</label>
                        <input type="number" id="preco-produto" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label>URL da Imagem:</label>
                        <input type="text" id="imagem-produto" placeholder="https://exemplo.com/imagem.jpg">
                    </div>
                    <div class="modal-buttons">
                        <button type="submit">Adicionar</button>
                        <button type="button" onclick="fecharModal('modal-novo-produto')">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Modal: Remover Produto do Kit -->
        <div id="modal-remover-produto" class="modal">
            <div class="modal-content">
                <h2>Remover Produto do Kit</h2>
                <p>Selecione o produto que deseja remover:</p>
                <div id="lista-produtos-kit"></div>
                <div class="modal-buttons">
                    <button onclick="fecharModal('modal-remover-produto')">Cancelar</button>
                </div>
            </div>
        </div>

        <!-- Modal: Confirmar Remo√ß√£o de Kit Salvo -->
        <div id="modal-remover-kit" class="modal">
            <div class="modal-content">
                <h2>Remover Kit Salvo</h2>
                <p>Tem certeza que deseja remover este kit?</p>
                <p><strong id="kit-para-remover"></strong></p>
                <div class="modal-buttons">
                    <button onclick="confirmarRemocaoKit()" style="background: #dc3545;">Sim, Remover</button>
                    <button onclick="fecharModal('modal-remover-kit')">Cancelar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>

    <script>
function toggleMenu() {
    const sidebar = document.querySelector('.sidebar');
    sidebar.classList.toggle('open');
}
</script>
</body>
</html>
